<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Enhance your knowledge management with Org Mode and ChatGPT | Greg Grubbs | Hype Cyclist</title>

<meta property='og:title' content='Enhance your knowledge management with Org Mode and ChatGPT - Greg Grubbs | Hype Cyclist'>
<meta property='og:description' content='The best most flexible LLM API package for Emacs with Org Mode'>
<meta property='og:url' content='https://hypecyclist.org/post/2023-07-04-enhance-your-knowledge-management-with-org-mode-and-chatgpt/'>
<meta property='og:site_name' content='Greg Grubbs | Hype Cyclist'>
<meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='emacs'><meta property='article:tag' content='orgmode'><meta property='article:tag' content='ai'><meta property='article:tag' content='llm'><meta property='article:tag' content='generativeai'><meta property='article:published_time' content='2023-07-04T22:22:28-06:00'><meta property='article:modified_time' content='2023-07-04T22:22:28-06:00'><meta name='twitter:card' content='summary'><meta name='twitter:site' content='@gregoryg'><meta name='twitter:creator' content='@gregoryg'>


<link href="https://hypecyclist.org/index.xml" rel="alternate" type="application/rss+xml" title="Greg Grubbs | Hype Cyclist" />

<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='https://hypecyclist.org/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="https://hypecyclist.org/post/2023-07-04-enhance-your-knowledge-management-with-org-mode-and-chatgpt/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
 
<body>

<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="https://hypecyclist.org">
          <h1 id="nav-heading" class="title is-4">Greg Grubbs | Hype Cyclist</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav id="nav-items" class="nav-item level is-mobile"><a class="level-item" aria-label="github" href='https://github.com/gregoryg'
            target='_blank' rel='me noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg>
</i>
            </span>
          </a><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/gregorygrubbs'
            target='_blank' rel='me noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg>
</i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
      <div class="nav-right"><a class="nav-item" href="/about">
          <h2 class="title is-5">About</h2>
        </a><a class="nav-item" href="/post">
          <h2 class="title is-5">Blog</h2>
        </a></div>
      
    </nav>

  </div>
  <script src="/js/navicon-shift.js"></script>
</section>

<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/emacs/">#emacs</a>



  
  | <a class="subtitle is-6" href="/tags/orgmode/">#orgmode</a>
  
  | <a class="subtitle is-6" href="/tags/ai/">#ai</a>
  
  | <a class="subtitle is-6" href="/tags/llm/">#llm</a>
  
  | <a class="subtitle is-6" href="/tags/generativeai/">#generativeai</a>
  


      
    </div>
    
    <h2 class="subtitle is-6">July 4, 2023</h2>
    
    <h1 class="title">Enhance your knowledge management with Org Mode and ChatGPT</h1>
    
    <div class="content">
      <p>
I am dedicated to tracking every research project, every reading list, agendas and every
set of tasks and life goals in plain text that can be searched, indexed and archived
flexibly.  For me, the way to do that is to leverage Org Mode.</p>
<p>
Integration with generative AI such as ChatGPT has been missing from that work flow so far.</p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
The canonical package?
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>I started sporadically hacking on my own package with the idea of capturing
  collaborative conversations with LLMs and evolving those into knowledge base articles,
  projects, and literate programming.  Fortunately, I discovered <a href="https://github.com/karthink">@karthink</a>&#39;s <a href="https://github.com/karthink/gptel">gptel</a> package
  and quickly realized that he has far surpassed what I had started.</p>
<p>
  This post is all about going through geeky features and details.  I&#39;ll follow it up in
  another post with the &#34;why&#34; and &#34;how&#34;!</p>
<p>
  I&#39;ll start with my most valued features in this package, then give some ideas about
  using gptel for various workflows.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Features
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>
  Features, roughly in descending order of importance (YMMV)</p>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Radical dedication to plain text
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
   This means true plain text with no special out-of-band metadata.</p>
<p>
   The idea is you can open and edit <strong>any</strong> text in Emacs, and simply send a region to an
   AI model from any buffer.</p>
<p>
   You can use the response to start a chat, or simply add or modify text in your
   document.  You can open a saved file from a previous chat session, then invoke
   <code class="verbatim">gptel-mode</code> - which will determine the context and allow you to pick up the
   conversation where you left off.</p>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
Community
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>Very active GitHub and a thoughtful and responsive developer</p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
Somewhat structured, not structured?  It&#39;s all good
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>
   Utilize Org Mode buffers, Markdown mode or other-mode buffers if you prefer</p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
Hooks and filters
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>
   Massage responses from the AI to give whatever structure you prefer</p>
<p>
   Even though you <strong>can</strong> keep everything in plain text-mode, you have the option
   to use Org Mode which gives all the advantages of executable source code, export to
   many formats, task assignment and more.  Markdown is another option, any coding mode
   based on <code class="verbatim">prog-mode</code> is another!</p>
<p>
   LLMs are very adept at producing Markdown code, somewhat less perfect with Org Mode.
   So I prompt the model for output in Markdown, then allow gptel to transform that to
   Org Mode.  The included dependency-free Emacs Lisp function to do that is really basic,
   so I wrote my own function that calls Pandoc on the response.</p>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
Secure hassle-free API key handling
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<p>It makes me crazy(er) to see all the code in coding tutorials that expect people to
   place API tokens and other credentials in text in the code.  Less experienced
   developers and even experienced developers can accidentally push those credentials to
   public repositories.</p>
<p>
   The Emacs <code class="verbatim">auth-source</code> package - a built-in feature for secure credential management -
   is an option with gptel, which makes the key storage secure (it can be encrypted) and
   places it outside any directory likely to be checked into GitHub!</p>
</div>
</div>
<div id="outline-container-headline-8" class="outline-3">
<h3 id="headline-8">
Easy access to your favorite prompts as &#34;directives&#34;
</h3>
<div id="outline-text-headline-8" class="outline-text-3">
<p>Use customize, you can maintain a group of keyed system prompts, and change them on the
   fly in a chat session using the transient-mode interface</p>
</div>
</div>
<div id="outline-container-headline-9" class="outline-3">
<h3 id="headline-9">
Transient interface
</h3>
<div id="outline-text-headline-9" class="outline-text-3">
<p>
   This is the parameter selection UI that Magit uses - it&#39;s nice to have this, especially
   since when you want to tweak one setting such as token limit, you may want to also
   change temperature, model and other things as well</p>
<p>
   That said, I&#39;m not the biggest fan of Transient as a general-purpose UX.  For switching system prompts (directives) for example, I prefer using
   <code class="verbatim">completing-read</code>, so I simply added a function to do just that</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-3">
<h3 id="headline-10">
Streaming support
</h3>
<div id="outline-text-headline-10" class="outline-text-3">
<p>While it can be nice to see the text streaming as you do in the ChatGPT Web UI, this is
   not something I&#39;m using at the moment due to my need to massage the response:
   transating to org-mode, adding headings and indenting the outline structure in a
   post-response hook.</p>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
Choice of APIs and API parameters - aspirational
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<p>The idea for the future is to support more than OpenAI&#39;s models.</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-12" class="outline-2">
<h2 id="headline-12">
Recap
</h2>
<div id="outline-text-headline-12" class="outline-text-2">
<p>In short, for me this package is the holy grail (I refuse to capitalize that).  It&#39;s
  only for text-base generative AI, only for OpenAI APIs for now, but it takes the right
  approach for flexibility and a pure, dependcy-free approach.</p>
<p>
  My next article will be about using Org Mode and the Denote package for managing
  knowledge capture, research projects, knowledge base articles, reading lists, tasks and
  scheduling.  I&#39;ll share the code for making it fit my workflow, in hopes of inspiring yours.</p>
<p>
  If you enjoyed this article, please follow me here on Medium.  I plan to write much
  more, and it&#39;s about to get geeky!</p>
</div>
</div>
      
    </div>
    
  </div>
</section>


<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
  
    <script type="text/javascript">
      var disqus_shortname = 'hypecyclist';
      function disqus() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }
  
      disqus();
  

    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>





<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/gregoryg">Greg Grubbs</a> 2008-2021</p>
    
      <p id="powered-by">Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/ribice/kiss">Kiss</a>.</p>
    
  </div>
</section>

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="\/\/matomo.example.com\/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>
  <img src="//matomo.example.com/piwik.php?idsite=1&amp;rec=1" style="border:0" alt="">
</noscript>

<script>
    (function(f, a, t, h, o, m){
        a[h]=a[h]||function(){
            (a[h].q=a[h].q||[]).push(arguments)
        };
        o=f.createElement('script'),
        m=f.getElementsByTagName('script')[0];
        o.async=1; o.src=t; o.id='fathom-script';
        m.parentNode.insertBefore(o,m)
    })(document, window, '\/\/fathom.example.com\/tracker.js', 'fathom');
    fathom('trackPageview');
</script>


</body>
</html>

